apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
  name: filebrowser
spec:
  # If you want the number of your deployment's replicas to be managed by Horizontal Pod Autoscaler, then you would not want to track replicas in Git.
  # https://argo-cd.readthedocs.io/en/stable/user-guide/best_practices/#leaving-room-for-imperativeness
  scaleTargetRef:
    apiVersion: apps/v1
    kind: StatefulSet
    name: filebrowser
  pollingInterval: 10
  cooldownPeriod: 30
  minReplicaCount: 0
  maxReplicaCount: 1
  triggers:
    - type: cron
      metadata:
        timezone: Europe/Madrid
        start: 45 9 * * *
        end: 40 9 * * *
        desiredReplicas: "1"
